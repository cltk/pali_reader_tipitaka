var pedalphas = new Array();
var pedalphae = new Array();

pedalphas['a'] = 0;
pedalphae['a'] = 3156;
pedalphas['i'] = 3157;
pedalphae['i'] = 3259;
pedalphas['u'] = 3260;
pedalphae['u'] = 4273;
pedalphas['e'] = 4274;
pedalphae['e'] = 4348;
pedalphas['o'] = 4349;
pedalphae['o'] = 4638;

pedalphas['k'] = 4639;
pedalphae['k'] = 5650;
pedalphas['g'] = 5651;
pedalphae['g'] = 5948;

pedalphas['c'] = 5949;
pedalphae['c'] = 6261;
pedalphas['j'] = 6262;
pedalphae['j'] = 6468;
pedalphas['~'] = 6469;
pedalphae['~'] = 6480;

pedalphas[','] = 6481;
pedalphae[','] = 6505;

pedalphas['t'] = 6506;
pedalphae['t'] = 6869;
pedalphas['d'] = 6872;
pedalphae['d'] = 7347;
pedalphas['n'] = 7347;
pedalphae['n'] = 8229;

pedalphas['p'] = 8230;
pedalphae['p'] = 10716;
pedalphas['b'] = 10717;
pedalphae['b'] = 11206;
pedalphas['m'] = 11208;
pedalphae['m'] = 11718;

pedalphas['y'] = 11720;
pedalphae['y'] = 11870;
pedalphas['r'] = 11872;
pedalphae['r'] = 12107;
pedalphas['l'] = 12108;
pedalphae['l'] = 12337;
pedalphas['v'] = 12340;
pedalphae['v'] = 13973;
pedalphas['s'] = 13975;
pedalphae['s'] = 16133;
pedalphas['h'] = 16133;
pedalphae['h'] = 16290;

var epdalphas = new Array();
var epdalphae = new Array();

epdalphas['a'] = 0;
epdalphae['a'] = 1516;
epdalphas['b'] = 1517;
epdalphae['b'] = 2536;
epdalphas['c'] = 2537;
epdalphae['c'] = 2537;
epdalphas['b'] = 2538;
epdalphae['b'] = 2907;
epdalphas['c'] = 2908;
epdalphae['c'] = 5558;
epdalphas['d'] = 5559;
epdalphae['d'] = 7390;
epdalphas['e'] = 7391;
epdalphae['e'] = 8674;
epdalphas['f'] = 8675;
epdalphae['f'] = 10154;
epdalphas['g'] = 10155;
epdalphae['g'] = 11119;
epdalphas['h'] = 11120;
epdalphae['h'] = 12125;
epdalphas['i'] = 12126;
epdalphae['i'] = 13857;
epdalphas['j'] = 13858;
epdalphae['j'] = 14062;
epdalphas['k'] = 14063;
epdalphae['k'] = 14220;
epdalphas['l'] = 14221;
epdalphae['l'] = 15289;
epdalphas['m'] = 15290;
epdalphae['m'] = 16691;
epdalphas['n'] = 16692;
epdalphae['n'] = 17247;
epdalphas['o'] = 17248;
epdalphae['o'] = 18082;
epdalphas['p'] = 18083;
epdalphae['p'] = 20604;
epdalphas['q'] = 20605;
epdalphae['q'] = 20738;
epdalphas['r'] = 20739;
epdalphae['r'] = 22183;
epdalphas['s'] = 22184;
epdalphae['s'] = 25296;
epdalphas['t'] = 25297;
epdalphae['t'] = 26784;
epdalphas['u'] = 26785;
epdalphae['u'] = 27516;
epdalphas['v'] = 27517;
epdalphae['v'] = 28030;
epdalphas['w'] = 28031;
epdalphae['w'] = 28720;
epdalphas['x'] = 28721;
epdalphae['x'] = 28727;
epdalphas['y'] = 28728;
epdalphae['y'] = 28798;
epdalphas['z'] = 28799;
epdalphae['z'] = 28825;

var dppnalphas = new Array();
var dppnalphae = new Array();

dppnalphas['a'] = 0;
dppnalphae['a'] = 1001;
dppnalphas['b'] = 1002;
dppnalphae['b'] = 1411;
dppnalphas['c'] = 1412;
dppnalphae['c'] = 1822;
dppnalphas['d'] = 1823;
dppnalphae['d'] = 2346;
dppnalphas['e'] = 2347;
dppnalphae['e'] = 2429;
dppnalphas['g'] = 2430;
dppnalphae['g'] = 2773;
dppnalphas['h'] = 2774;
dppnalphae['h'] = 2888;
dppnalphas['i'] = 2889;
dppnalphae['i'] = 2960;
dppnalphas['j'] = 2961;
dppnalphae['j'] = 3120;
dppnalphas['k'] = 3121;
dppnalphae['k'] = 4218;
dppnalphas['l'] = 4219;
dppnalphae['l'] = 4338;
dppnalphas['m'] = 4339;
dppnalphae['m'] = 5254;
dppnalphas['n'] = 5255;
dppnalphae['n'] = 5605;
dppnalphas['o'] = 5606;
dppnalphae['o'] = 5637;
dppnalphas['p'] = 5638;
dppnalphae['p'] = 6413;
dppnalphas['r'] = 6414;
dppnalphae['r'] = 6640;
dppnalphas['s'] = 6641;
dppnalphae['s'] = 8010;
dppnalphas['t'] = 8011;
dppnalphae['t'] = 8287;
dppnalphas['u'] = 8288;
dppnalphae['u'] = 8633;
dppnalphas['v'] = 8634;
dppnalphae['v'] = 9277;
dppnalphas['y'] = 9278;
dppnalphae['y'] = 9355;

var mlalphas = new Array();
var mlalphae = new Array();

mlalphas["a"] = 0;
mlalphae["a"] = 3160;
mlalphas["i"] = 3161;
mlalphae["i"] = 3295;
mlalphas["u"] = 3296;
mlalphae["u"] = 4335;
mlalphas["e"] = 4336;
mlalphae["e"] = 4455;
mlalphas["o"] = 4456;
mlalphae["o"] = 4770;
mlalphas["k"] = 4771;
mlalphae["k"] = 6148;
mlalphas["g"] = 6149;
mlalphae["g"] = 6673;
mlalphas["c"] = 6674;
mlalphae["c"] = 7200;
mlalphas["j"] = 7201;
mlalphae["j"] = 7591;
mlalphas["~"] = 7592;
mlalphae["~"] = 7629;
mlalphas[","] = 7630;
mlalphae[","] = 7672;
mlalphas["t"] = 7673;
mlalphae["t"] = 8291;
mlalphas["d"] = 8292;
mlalphae["d"] = 9132;
mlalphas["n"] = 9133;
mlalphae["n"] = 10237;
mlalphas["p"] = 10238;
mlalphae["p"] = 13294;
mlalphas["b"] = 13295;
mlalphae["b"] = 14011;
mlalphas["m"] = 14012;
mlalphae["m"] = 14867;
mlalphas["y"] = 14868;
mlalphae["y"] = 15109;
mlalphas["r"] = 15110;
mlalphae["r"] = 15465;
mlalphas["l"] = 15466;
mlalphae["l"] = 15787;
mlalphas[","] = 15788;
mlalphae[","] = 15789;
mlalphas["v"] = 15790;
mlalphae["v"] = 17844;
mlalphas["s"] = 17845;
mlalphae["s"] = 20649;
mlalphas["h"] = 20650;
mlalphae['h'] = 20926;

var yut = 0;
var remote = true;

var ped = [];

function pedsearchstart()
{

	document.getElementById('difb').innerHTML='';
	
	var getstring = document.form.manual.value;
	
	getstring = getstring.replace(/"n/g, '`n');
	getstring = getstring.replace(/\./g, ',');

	var gslength = getstring.length;
	var gsplit = new Array();	
	
	var gletter = getstring.charAt(0);
	var gstart = pedalphas[gletter];
	var gend = pedalphae[gletter];

	var foldersw = new Array();
	var f0 = 0;
	var f1 = 0;

	var ped1 = 'etc/';
	var ped2 = '.htm';
	
	if (remote == true)
	{
		ped1 = 'http://dsal.uchicago.edu/cgi-bin/philologic/getobject.pl?c.';
		ped2 =  '.pali';	
	}
	
	var finouta = new Array();
	var y = 0;
	var finout = '';
	if (ped.length == 0) for (a in mainda) if (a.charAt(a.length-2) != 'f') ped.push(a + '^' + mainda[a]);
	for (x = gstart; x < gend; x++)
	{
		var yesstring = ped[x].substring(0,gslength);
	
		if(yesstring == getstring)
		{
			gsplit = ped[x].split('^');
			
			uniout = gsplit[0];
			
			uniout = uniout.replace(/aa/g, '\u0101');
			uniout = uniout.replace(/ii/g, '\u012B');
			uniout = uniout.replace(/uu/g, '\u016B');
			uniout = uniout.replace(/,t/g, '\u1E6D');
			uniout = uniout.replace(/,d/g, '\u1E0D');
			uniout = uniout.replace(/`n/g, '\u1E45');
			uniout = uniout.replace(/,n/g, '\u1E47');
			uniout = uniout.replace(/,m/g, '\u1E43');
			uniout = uniout.replace(/~n/g, '\u00F1');
			uniout = uniout.replace(/,l/g, '\u1E37');
			uniout = uniout.replace(/AA/g, '\u0100');
			uniout = uniout.replace(/II/g, '\u012A');
			uniout = uniout.replace(/UU/g, '\u016A');
			uniout = uniout.replace(/,T/g, '\u1E6C');
			uniout = uniout.replace(/,D/g, '\u1E0C');
			uniout = uniout.replace(/,N/g, '\u1E46');
			uniout = uniout.replace(/,M/g, '\u1E42');
			uniout = uniout.replace(/~N/g, '\u00D1');
			uniout = uniout.replace(/,L/g, '\u1E36');
			uniout = uniout.replace(/z/g, ' ');
			uniout = uniout.replace(/`/g, '\u00B0');
			
			if (remote == true) {
				foldersw = gsplit[1].split('/');
				f0 = parseInt(foldersw[0],10);
				f1 = parseInt(foldersw[1],10);
				if (f0 == 0) {

						f1 += 4;

				}
				if (f0 == 1) {
					if(f1 < 158) {
						f0 = 0;
						f1 += 4451;
					}
					else {
						f1 -= 154;
					}
				}
				if (f0 == 2) {
					if(f1 < 119) {
						f0 = 1;
						f1 += 2779;
					}
					else {
						f1 -= 115;
					}
				}
				if (f0 == 3) {
					if(f1 < 189) {
						f0 = 2;
						f1 += 3793;
					}
					else {
						f1 -= 185;
					}
				}
				if (f0 == 4) {
					if(f1 < 578) {
						f0 = 3;
						f1 += 3503;
					}
					else {
						f1 -= 574;
					}
				}
				gsplit[1] = f0 + ':' + f1;
			}
			
			finouta[y] = '<a href="#" onclick="paliXML(\'PED/' + gsplit[1] + '\')">' + uniout + '</a><br>';
			y++;
		}
	}
	
	var findiv = (y/3);
	var ctab = 0;
	var flag1 = 0;
	var flag2 = 0;
	
	finout = '<table width=100%><tr><td valign="top">';
	
	for (z = 0; z < findiv; z++)
	{
		
		finout += finouta[z];
		ctab++;
	}
	finout += '</td><td valign="top">';
	if(y > 1)
	{
		for (z = ctab; z < (ctab*2); z++)
		{
			finout += finouta[z];
		}	
		
		finout += '</td><td valign="top">';
		for (z = (ctab*2); z < y; z++)
		{
			finout += finouta[z];
		}	
	}
	
	
	document.getElementById('difb').innerHTML += finout + '</td></tr></table>';
	yut = 0;
}

function epdsearchstart()
{
	document.getElementById('difb').innerHTML='';
	document.getElementById('anfb').innerHTML='<div align=left id="anfc"></div><div align=right id="anfd"></div>';
	
	var getstring = document.form.manual.value;
	
	var gslength = getstring.length;
	var gsplit = new Array();
	
	
	var gletter = getstring.charAt(0);
	var gstart = epdalphas[gletter];
	var gend = epdalphae[gletter];
	var finouta = new Array();
	var y = 0;
	var finout = '';
	
	
	for (x = 0; x < epd.length; x++)
	{
		var yesstring = epd[x].substring(0,gslength);
	
		if(yesstring == getstring)
		{
			gsplit = epd[x].split('^');
			
			finouta[y] = '<a href="javascript:void(0)" class="white" onclick="document.getElementById(\'anfc\').innerHTML = \'<font class=white>' + gsplit[0] + '</font> = <font class=brown>' + gsplit[1] +'</font>\'" onmouseover="document.getElementById(\'anfd\').innerHTML = \'' + gsplit[1] +'\'" onmouseout="document.getElementById(\'anfd\').innerHTML = \'\'">' + gsplit[0] + '</a><br>';
			y++;
		}
	}
	
	var findiv = (y/3);
	var ctab = 0;
	var flag1 = 0;
	var flag2 = 0;
	
	finout = '<table width=100%><tr><td valign="top">';
	
	for (z = 0; z < findiv; z++)
	{
		
		finout += finouta[z];
		ctab++;
	}
	finout += '</td><td valign="top">';
	if(y > 1)
	{
		for (z = ctab; z < (ctab*2); z++)
		{
			finout += finouta[z];
		}	
		
		finout += '</td><td valign="top">';
		for (z = (ctab*2); z < y; z++)
		{
			finout += finouta[z];
		}	
	}
	
	
	document.getElementById('difb').innerHTML += finout + '</td></tr></table>';
	yut = 0;
}

var dppn = new Array();

function dppnsearchstart()
{
	document.getElementById('difb').innerHTML='';
	
	var getstring = document.form.manual.value;
	
	getstring = getstring.replace(/"n/g, '`n');
	getstring = getstring.replace(/\./g, ',');

	var gslength = getstring.length;
	var gsplit = new Array();	
	
	var gletter = getstring.charAt(0);
	var gstart = dppnalphas[gletter];
	var gend = dppnalphae[gletter];

	var foldersw = new Array();
	var f0 = 0;
	var f1 = 0;

	var dict = '../DPPN/';
	
	if (remote == true)
	{
		dict = 'http://www.palikanon.com/english/pali_names/';
	}
	
	var finouta = new Array();
	var y = 0;
	var finout = '';
	if (dppn.length == 0) for (a in mainda) if (a.charAt(a.length-2) == 'f') dppn.push(a + '^' + mainda[a]);
	
	for (x = gstart; x < gend; x++)
	{
		var yesstring = dppn[x].substring(0,gslength);
	
		if(yesstring == getstring)
		{
			gsplit = dppn[x].split('^');
			
			uniout = gsplit[0];
			
			uniout = uniout.replace(/aa/g, '\u0101');
			uniout = uniout.replace(/ii/g, '\u012B');
			uniout = uniout.replace(/uu/g, '\u016B');
			uniout = uniout.replace(/,t/g, '\u1E6D');
			uniout = uniout.replace(/,d/g, '\u1E0D');
			uniout = uniout.replace(/`n/g, '\u1E45');
			uniout = uniout.replace(/,n/g, '\u1E47');
			uniout = uniout.replace(/,m/g, '\u1E43');
			uniout = uniout.replace(/~n/g, '\u00F1');
			uniout = uniout.replace(/,l/g, '\u1E37');
			uniout = uniout.replace(/AA/g, '\u0100');
			uniout = uniout.replace(/II/g, '\u012A');
			uniout = uniout.replace(/UU/g, '\u016A');
			uniout = uniout.replace(/,T/g, '\u1E6C');
			uniout = uniout.replace(/,D/g, '\u1E0C');
			uniout = uniout.replace(/,N/g, '\u1E46');
			uniout = uniout.replace(/,M/g, '\u1E42');
			uniout = uniout.replace(/~N/g, '\u00D1');
			uniout = uniout.replace(/,L/g, '\u1E36');
			uniout = uniout.replace(/f/g, ' ');
			uniout = uniout.replace(/`/g, '\u00B0');
			
			
			finouta[y] = '<a href="javascript:void(0)" onClick="moveframey(\'dif\'); DPPNXML(\'dppn/' + gsplit[1] + '\')">' + uniout + '</a><br>';
			y++;
		}
	}
	
	var findiv = (y/3);
	var ctab = 0;
	var flag1 = 0;
	var flag2 = 0;
	
	finout = '<table width=100%><tr><td valign="top">';
	
	for (z = 0; z < findiv; z++)
	{
		
		finout += finouta[z];
		ctab++;
	}
	finout += '</td><td valign="top">';
	if(y > 1)
	{
		for (z = ctab; z < (ctab*2); z++)
		{
			finout += finouta[z];
		}	
		
		finout += '</td><td valign="top">';
		for (z = (ctab*2); z < y; z++)
		{
			finout += finouta[z];
		}	
	}
	
	
	document.getElementById('difb').innerHTML += finout + '</td></tr></table>';
	yut = 0;
}

function mlsearchstart()
{
	document.getElementById('difb').innerHTML='';
	document.getElementById('anfb').innerHTML='<div align=left id="anfc"></div><div align=right id="anfd"></div>';
	
	var getstring = document.form.manual.value;
	
	var gslength = getstring.length;
	var gsplit = new Array();
	
	
	var gletter = getstring.charAt(0);
	var gstart = epdalphas[gletter];
	var gend = epdalphae[gletter];
	var finouta = new Array();
	var y = 0;
	var finout = '';
	var yg = [];
	
	for (a in yt) yg.push(a);
	
	for (x = 0; x < yg.length; x++)
	{
		var yesstring = yg[x].substring(0,gslength);
		var us = '';
		var ud = '';
		if(yesstring == getstring)
		{
			us = replaceunistandard(yg[x].replace(/,/g, ".").replace(/`/g, "\""));
			ud = replaceunistandard(yt[yg[x]].replace(/,/g, ".").replace(/`n/g, "\"n").replace(/\&comma;/g, ",").replace(/'/g, "&#92;&#39;"));
			ud = ud.replace(/xxx/, ', ');
			
			finouta[y] = '<a href="javascript:void(0)" class="white" onclick="document.getElementById(\'anfc\').innerHTML = \'<font class=white>' + us + '</font> = <font class=brown>' + ud +'</font>\'" onmouseover="document.getElementById(\'anfd\').innerHTML = \'' + ud +'\'" onmouseout="document.getElementById(\'anfd\').innerHTML = \'\'">' + us + '</a><br>';
			y++;
		}
	}
	
	var findiv = (y/3);
	var ctab = 0;
	var flag1 = 0;
	var flag2 = 0;
	
	finout = '<table width=100%><tr><td valign="top">';
	
	for (z = 0; z < findiv; z++)
	{
		
		finout += finouta[z];
		ctab++;
	}
	finout += '</td><td valign="top">';
	if(y > 1)
	{
		for (z = ctab; z < (ctab*2); z++)
		{
			finout += finouta[z];
		}	
		
		finout += '</td><td valign="top">';
		for (z = (ctab*2); z < y; z++)
		{
			finout += finouta[z];
		}	
	}
	
	
	document.getElementById('difb').innerHTML += finout + '</td></tr></table>';
	yut = 0;
}
